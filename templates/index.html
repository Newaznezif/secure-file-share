<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Secure File Share â€” Safe. Simple. Fast.</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>

<body>
    <header class="site-header">
        <div class="container nav-container">
            <a class="brand" href="{{ url_for('index') }}">ğŸ” <span>SecureFile</span></a>
            <nav class="nav">
                <button class="nav-toggle" aria-expanded="false" aria-label="Toggle navigation">â˜°</button>
                <ul class="nav-list">
                    <li><a href="{{ url_for('upload_file') }}">Upload</a></li>
                    <li><a href="{{ url_for('download_page') }}">Download</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#how-it-works">How it works</a></li>
                </ul>
            </nav>
            <div class="actions">
                <button id="themeToggle" class="btn btn-ghost" aria-pressed="false">ğŸŒ™</button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero container" id="hero">
            <div class="hero-left">
                <h1>Secure file sharing without the hassle</h1>
                <p class="lead">Files are encrypted on upload (server-side) using AES-256-GCM, stored safely, and shared
                    via a short, expiring link with
                    anyone.</p>
                <div class="cta-buttons">
                    <a href="{{ url_for('upload_file') }}" class="btn btn-primary">ğŸ“¤ Upload & Encrypt</a>
                    <a href="{{ url_for('download_page') }}" class="btn btn-outline">ğŸ”“ Download</a>
                </div>

                <div class="trust-row">
                    <div class="trust-item">
                        <strong>256-bit AES</strong>
                        <span>Industry standard</span>
                    </div>
                    <div class="trust-item">
                        <strong>Optional KMS</strong>
                        <span>AWS KMS support</span>
                    </div>
                    <div class="trust-item">
                        <strong>Ephemeral</strong>
                        <span>Short-lived links</span>
                    </div>
                </div>
            </div>
            <div class="hero-right">
                <div class="card demo-card">
                    <div class="card-header">Quick demo</div>
                    <div class="card-body">
                        <p class="muted">Paste an existing File ID to download instantly.</p>
                        <input id="quickFileId" class="form-input" placeholder="e.g., 86bbfce6e8b177be"
                            aria-label="File ID">
                        <div class="card-actions">
                            <a id="quickDownload" class="btn btn-small">ğŸ” Validate & Preview</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" class="features container">
            <h2>Built for privacy and performance</h2>
            <p class="section-lead">Every design choice is deliberate: minimal metadata, fast transfers, and auditable
                key handling.</p>

            <div class="feature-grid">
                <article class="feature-card">
                    <div class="feature-icon">ğŸ”</div>
                    <h3>Client-side encryption</h3>
                    <p>Files are encrypted before they leave the browser â€” your plaintext never touches the server.</p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon">ğŸ—ï¸</div>
                    <h3>Secure key handling</h3>
                    <p>Keys can be wrapped with AWS KMS or protected locally via a master key.</p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Fast transfers</h3>
                    <p>Optimized file streams and small payloads keep uploads and downloads responsive.</p>
                </article>

                <article class="feature-card">
                    <div class="feature-icon">ğŸ§¾</div>
                    <h3>Audit & control</h3>
                    <p>Simple audit logs and short TTLs help maintain control over shared data.</p>
                </article>
            </div>
        </section>

        <section id="how-it-works" class="how container">
            <h2>How it works</h2>
            <ol class="how-steps">
                <li><strong>Upload:</strong> Client generates a random AES key and encrypts the file.</li>
                <li><strong>Wrap:</strong> Key is optionally wrapped with KMS and stored as ciphertext.</li>
                <li><strong>Share:</strong> A short file ID is minted and given to the uploader to share.</li>
                <li><strong>Download:</strong> Recipient requests the file, server unwraps the key, decrypts in memory,
                    and serves it.</li>
            </ol>
        </section>

        <section class="api container">
            <h2>API & Automation</h2>
            <p class="muted">Use our REST API to integrate secure file transfers in your workflows.</p>
            <div class="code-block">
                <pre><code># Upload file via API
curl -X POST -F "file=@yourfile.pdf" {{ url_for('api_upload', _external=True) }}</code></pre>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>SecureFile &middot; Demo project &middot; Not for production use without audit</p>
            <p class="small muted">Â© {{ now().year }} SecureFile â€” Built with Flask & PyCryptodome</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>

</html>